####jvm原理

方法区 
存放类信息、常量、静态变量等
内存溢出：不断加载类、静态变量会内存溢出

堆 
对象存放在堆里
内存溢出：对象满了会内存溢出；新建的对象存到list里去，就不会回收了

栈 
用来存栈帧的，每个栈帧可以理解为一个方法
1.启动一个新线程时，jvm会为它分配一个 Java 栈。
2.线程结束内存就释放，不需要垃圾回收。
3.内存溢出：递归调用、线程过多会内存溢出

3.gc原理
最常用的JVM是HotSport，算法为分代回收。
HotSport 将 jvm 中堆划分新生代和老年代
垃圾回收主要是针对年轻代和年老代。
新生代又分为Eden和两个幸存区
1.对象在 Eden 区完成内存分配
2.Eden没有足够空间的时候就会触发jvm发起一次Minor GC
3.存活的对象被放入到幸存区，年龄+1
4.当年龄达到一定的程度时或者survivor满了，则这些对象被 copy 到 old 区
5.当 Old 区被放满的之后，进行 fullGC。（ fullGC 会造成很大的系统资源开销）